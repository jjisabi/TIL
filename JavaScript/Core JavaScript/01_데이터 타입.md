# `데이터 타입`
*목표1. 자바스크립트가 데이터를 처리하는 과정 이해*<br>
*목표2. 기본형 타입과 참조형 타입이 서로 다르게 동작하는 이유 이해*<br><br>

### 1. 데이터 타입의 종류
<hr>

**1) 기본형** (Primitive data type)
- Object를 제외한 모든 타입은 언어의 최하위 수준에서 직접 표현되는 변경 불가능한 *`불변 값`* 이며 pass-by-value(값에 의한 전달) 방식이다.

- number, string, boolean, null, undefined + Symbol

<br>

**2) 참조형** (Object type, Reference type)
- JavaScript는 객체 기반의 스크립트 언어로써 JavaScript를 이루고 있는 거의 모든 것이 객체이다.

- 주로 key-value 쌍 데이터 저장하며 여러 개의 속성을 저장할 수 있다. 

- 객체는 유일한 *`변경 가능한 값`* 이며 pass-by-reference 방식이다.

- object (Array, Function, Date, RegExp + Map, WeakMap, Set, WeakSet)

<br><br>

### 2. 데이터 타입에 관한 배경지식
<hr>

#### `1-2-1 메모리와 데이터`
메모리는 많은 비트들로 구성되어 있고, 각 비트는 고유한 식별자를 통해 위치를 확인할 수 있다. 
비트는 다시 바이트 단위로 묶고(8bit = 1byte) 비트가 고유한 식별자를 가지는 것 처럼 **바이트도 식별자를 가진다. 이를 `메모리 주솟값`이라고 하며 이를 통해 위치를 파악하고 구분한다.
이것이 데이터를 저장하는 방법이며 메모리 주솟값을 통해 서로 구분하고 연결한다.**
C/C++, 자바 등의 정적 타입 언어와 달리 **자바스크립트는 동적타입이 있는 동적언어**이다. (자바스크립트의 변수는 어떤 특정타입과 연결되지 않으며 모든 타입의 값으로 할당 및 재할당이 가능하다.)

#### `1-2-2 식별자와 변수`
- 변수: 변할 수 있는 수(데이터), **변경 가능한 데이터가 담길 수 있는 공간**<br>
- 식별자: 데이터를 식별하는 데 사용하는 이름 (변수명)

<br>


### 3. 변수 선언과 데이터 할당
<hr>

#### `1-3-1 변수 선언`
변수 선언 과정: 메모리에서 비어있는 공간(ex.100번지)을 확보하고 해당 공간의 이름(식별자)을 a라고 지정한다.
 ```
 var a; // 변할 수 있는 데이터를 만든다. 이 데이터의 식별자는 a로 한다.
 ```
 

#### `1-3-2 데이터 할당`
데이터 할당 과정: a라는 이름을 가진 주소를 검색한 후 데이터를 저장하기 위한 별도의 메모리 공간을 확보하여 문자열 'abc'를 저장하고 그 주소를 변수 영역에 저장한다.
 ```
 var a;         // 변수 a 선언
 a = 'abc';     // 변수 a에 데이터 할당
 var a = 'abc'; // 변수 선언과 할당을 동시에
 ```
<br>

**데이터 할당에 대한 메모리 영역의 변화**<br>

1 )변수 영역에서 빈 공간(@100번지)을 확보한다.<br>
2 )확보한 공간의 식별자를 a로 지정한다.<br>
3 )데이터 영역의 빈 공간(@200번지)에 문자열 'abc'를 저장한다.<br>
4 )변수 영역에서 a라는 식별자를 검색한다(@100).<br>
5 )앞서 저장한 문자열의 주소(@200)를 @100의 공간에 대입한다.<br>

=> 데이터 변환 자유롭게하여 메모리 효율적으로 관리하기 위해서 변수영역과 데이터 영역을 나눈다.
기존 문자열에 어떤 변환을 가하면 `새로` 만들어 별도의 공간에 저장한다.<br><br>
*ex) 문자열 'abc'에 'de'를 추가하면 @200에 문자열 값을 변경하는 것이 아니라 @201에 새로 'abcde'를 만들고 @100 공간에 새로운 주소 @201을 연결한다.*

<br><br>

### 4. 기본형 데이터와 참조형 데이터
<hr>

#### `1-4-1 불변값`
 ```
 var a = 'abc';
 a = a + 'def';

 var b = 5;
 var c = 5;
 b = 7;
 ```

 1 )변수 a에 문자열 'abc'의 주소를 저장한다.<br>
 2 )변수 a에 문자열 'abcdef'의 주소를 저장한다. (이때 'abc'와 'abcdef'는 완전히 별개의 데이터이다.)<br>
 3 )데이터 영역에 숫자 5가 있는 지 찾고 없으면 데이터 공간을 만들어 5를 만들고 해당 데이터 공간의 주솟값을 변수 b에 저장한다.<br>
 4 )데이터 영역에 숫자 5가 있으므로 해당 공간의 주솟값을 변수 c에 저장한다.<br>
 5 )새로 만든 7 데이터 공간의 주솟값을 변수 b에 저장한다. (이때 기존에 저장된 5자체를 7로 바꾸는 것이 아니다.)<br><br>
 **=> 이처럼 변경은 새로 만드는 동작을 통해서만 이루어지고 변경할 수 없다. 이를 `불변값의 성질`이라고 한다.**

<br>

#### `1-4-2 가변값`
```
var obj1 = {
    a: 1,
    b: 'bbb'
};
```
1 ) 변수 영역의 빈 공간 @1002를 확보하고 주소의 이름을 obj1으로 지정한다.<br>
2 ) 임의의 데이터 영역 @5001에 데이터 저장 시 여러 개의 속성으로 이루어진 데이터 그룹이므로 해당 속성을 저장하기 위해 별도의 변수 영역을 마련한다. 그 영역의 주소(@7103)를 @5001에 저장한다.<br>
3 ) @7103과 @7104에 각각 a와 b라는 속성명을 지정한다.<br>
4 ) 데이터 영역에서 숫자 1을 검색하여 검색 결과가 없으므로 임의로 @5003에 저장하고 해당 주소를 @7103에 저장한다. 문자열 'bbb'도 마찬가지의 과정을 거친다. <br><br>
 **=>기본형 데이터와의 차이는 객체의 변수(속성) 영역이 별도로 존재한다는 점이다. `변수에는 다른 값을 대입할 수 있으므로 참조형 데이터는 가변값`이다라고 한다.**


<br>

#### `1-4-3 변수 복사 비교`
**1) 변수 복사 이후 값 변경 - 객체의 프로퍼티 변경 시**
```
var a = 10;
var b = a;

var obj1 = {c: 10, d: 'ddd'};
var obj2 = obj1;

b = 15
obj2.c = 20;
```
기본형 데이터를 복사한 변수 b의 값을 바꿨을 때 **변수 a와 b는 서로 다른 주소값을 가지는 반면, 참조형 데이터를 복사한 변수 obj2의 내부 프로퍼티의 값을 바꾸었을 때는 변수 obj1과 obj2는 같은 객체**를 바라보고 있다.
(주소값이 달라지지 않음) 기본형은 주솟값을 복사하는 과정이 한 번만 이뤄지고, 참조형은 한 단계를 더 거치는 차이점이 있다.

```
a !== b
obj1 === obj2
```
<br>

**2) 변수 복사 이후 값 변경 - 객체자체를 변경했을 때**
```
var a = 10;
var b = a;

var obj1 = {c: 10, d: 'ddd'};
var obj2 = obj1;

b = 15
obj2 = {c: 20, d: 'ddd'};
```
obj2에도 새로운 객체를 할당함으로써 값을 직접 변경하여 주소값이 달라졌다.

**즉, 참조형 데이터가 가변값이라고 설명할 때의 가변은 참조형 데이터 자체를 변경할 경우가 아니라 그 `내부의 프로퍼티`를 변경할 때만 성립한다.** <br>
